server:
  port: 8081
spring:
  application:
    name: stock-analyzer
  datasource:
    jdbc-url: jdbc:mysql://localhost:3306/stock_analyzer_v1?createDatabaseIfNotExist=true
    driver-class-name: com.mysql.cj.jdbc.Driver
    username: root
    password: interOP@123
    hikari:
      maximum-pool-size: 20
      minimum-idle: 5
      connection-timeout: 30000
      idle-timeout: 600000
      max-lifetime: 1800000
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: false
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQLDialect
        format_sql: true
        order_inserts: true
        order_updates: true
        jdbc:
          batch_size: 50
          batch_versioned_data: true
  flyway:
    enabled: true
    locations: classpath:db/migration
    baseline-on-migrate: true
    validate-on-migrate: true
    mvc:
      throw-exception-if-no-handler-found: true
    web:
      resources:
        add-mappings: false
  jackson:
    serialization:
      write-dates-as-timestamps: false
    default-property-inclusion: non_null
fivepaisa:
  api:
    base-url: "https://openapi.5paisa.com/VendorsAPI/Service1.svc"
    app-name: ${FIVEPAISA_APP_NAME:5P50003277}
    client-code: ${FIVEPAISA_CLIENT_CODE:50003277}
    user-key: ${FIVEPAISA_USER_KEY:fAGoVxCEjkYVN0UKIQfRdUKruwAIqc6c}
    encrypt-key: ${FIVEPAISA_ENCRYPT_KEY:EwGIpQIwjAMjzeKR2baglWR5aduY4F3X}
    password: ${FIVEPAISA_PASSWORD:vMvI75gWq2F}
    login-id: ${FIVEPAISA_CLIENT_CODE:50003277}
    user-id: ${FIVEPAISA_CLIENT_CODE:xw3Qrntmt5h}
nse:
  bhavcopy:
    base-url: "https://nsearchives.nseindia.com/content/cm/"
    file-pattern: "BhavCopy_NSE_CM_0_0_0_{date}_F_0000.csv.zip"
    download-path: "./data/bhavcopy/"
    retry-attempts: 3
    retry-delay: 5000
technical-analysis:
  indicators:
    rsi-period: 14
    ema-short: 9
    ema-long: 21
    volume-sma: 20
    atr-period: 14
    lookback-days: 100
btst:
  analysis:
    min-volume: 500000
    min-value: 10000000
    min-price: 10.0
    max-gap-down: -1.5
    min-gap-up: -0.5
    confidence-threshold: 50.0
crude:
  indicators:
    min-candles: 200
    batch-size: 100
  vwap:
    reset-daily: true
  obv:
    ema-period: 10
  volume:
    sma-period: 20
  export:
    csv-delimiter: ","
    date-format: "yyyy-MM-dd'T'HH:mm:ss'Z'"
    max-rows: 10000
  api:
    rate-limit: 100
logging:
  level:
    com.stockanalyzer: INFO
    org.springframework.web: WARN
    org.hibernate.SQL: WARN
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus
  endpoint:
    health:
      show-details: always
